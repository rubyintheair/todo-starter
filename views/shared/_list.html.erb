<div class="list">
  <form class="update-all" action="lists/update" method="post">
    <input type="hidden" name="id" value="<%= list.id %>">
    <input class="old-list-name" type="hidden" name="name" value="<%= list.name %>">
    <input class="new-list-name hidden" type="text" name="new-list-name" value="<%= list.name %>">
    <button class="cancel-list-name hidden" type="submit" name="cancel-new-list-name" value="1">X</button>
    <div class="list-header-container">
      <div class="list-header"><%= list.name %></div>
      <div name="list-menu">
        <button class="save hidden" name="save_all">Save</button>
      </div>
    </div>

    <ul class="js-sortable-items js-connected-items">
      <% list.items.each_with_index do |item, index| %>
        <%= erb :"shared/_item.html", locals: {item: item, index: index} %>
      <% end %>
    </ul>
  </form>
  
  <form class="add-item" action="lists/<%= list.id %>/items/add" method="post">
    <input type="text" name="name" class="new-item" placeholder="Add an item..." required>
    <button type="submit" name="add-item-button" id="save-add-item" class="hidden">Save</button>
    <button type="submit" id="cancel-add-item" class="hidden">X</button>
  </form>
</div>
